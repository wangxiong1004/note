{"version":3,"sources":["js/modules/utils.js"],"names":["layui","define","exports","$","jquery","mathRandom","parseInt","Math","random","getPrevDay","d","Date","getFullYear","getMonth","getDate","formatDateTime","timeStamp","type","date","setTime","y","m","h","getHours","minute","getMinutes","second","getSeconds","getCookie","name","arrCookie","document","cookie","split","i","length","arr","getTime","getRrandomTime","num","floor","getRrandomStr","data","result","getGuid","replace","c","r","toString","encryption","Codekey","str","base64encode","des","utf16to8","hexToString","decrypt","key","Handle","utf8to16","base64decode","String","getParams","platform","token","params","proglang","sn","this","JSON","stringify","toMoney","Number","s","toMoneyNormal","toFixed","parseFloat","toLocaleString","getDomain","url","urlApi","domainObj","window","location","hostname","getQueryString","reg","RegExp","reg_rewrite","search","substr","match","q","pathname","unescape","getAjaxData","options","that","paramsdata","ajax","async","headers","X-Dola-Time","X-Dola-ClientID","X-Dola-Code","success","res","status","xhr","getResponseHeader","parse","error","isCurrentPage","urlString","addClassActive","ele","className","addClass","siblings","removeClass","toggleClass","commafy","isNaN","index","indexOf","test","intPart","substring","pointPart","delcommafy","commafyToggle","val"],"mappings":"AAAAA,MAAMC,OAAO,CAAC,UAAW,SAAUC,GAClC,IAAIC,EAAIH,MAAMI,OAEdF,EAAQ,QAAS,CAKhBG,WAAY,WACX,OAAOC,SAAS,GAAKC,KAAKC,WAO3BC,WAAY,WACX,IAAIC,EAAI,IAAIC,KAGZ,OAFAD,GAAKA,EAAI,OACTA,EAAI,IAAIC,KAAKD,IACJE,cAAgB,KAAOF,EAAEG,WAAa,GAAK,IAAMH,EAAEI,UAAY,KAQzEC,eAAgB,SAAUC,EAAWC,GACpC,IAAIC,EAAO,IAAIP,KACfO,EAAKC,QAAoB,IAAZH,GACb,IAAII,EAAIF,EAAKN,cACTS,EAAIH,EAAKL,WAAa,EAC1BQ,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIX,EAAIQ,EAAKJ,UACbJ,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIY,EAAIJ,EAAKK,WACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAASN,EAAKO,aACdC,EAASR,EAAKS,aAGlB,OAFAH,EAASA,EAAS,GAAM,IAAMA,EAAUA,EACxCE,EAASA,EAAS,GAAM,IAAMA,EAAUA,EAC5B,GAART,EACIG,EAAI,IAAMC,EACC,GAARJ,EACHP,EAAI,IAEJU,EAAI,IAAMC,EAAI,IAAMX,EAAI,KAQjCkB,UAAW,SAAUC,GAGpB,IAFA,IACIC,EADYC,SAASC,OACCC,MAAM,MACvBC,EAAI,EAAGA,EAAIJ,EAAUK,OAAQD,IAAK,CAC1C,IAAIE,EAAMN,EAAUI,GAAGD,MAAM,KAC7B,GAAIJ,GAAQO,EAAI,GACf,OAAOA,EAAI,GAGb,MAAO,IAMRT,WAAY,WACX,OAAO,IAAIhB,MAAO0B,WAKnBC,eAAgB,WAGf,IAFA,IAAI5B,GAAI,IAAIC,MAAO0B,UACfE,EAAM,GACDL,EAAI,EAAGA,EAAI,EAAGA,IACtBK,GAAOhC,KAAKiC,MAAsB,GAAhBjC,KAAKC,UAExB,OAAOE,EAAI,IAAM6B,GAMlBE,cAAe,WAGd,IAFA,IAAIC,EAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACzTC,EAAS,GACJT,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAE5BS,GAAUD,EADFnC,KAAKiC,MAAsB,GAAhBjC,KAAKC,WAGzB,OAAOmC,GAMRC,QAAS,WACR,MAAO,uCAAuCC,QAAQ,QAAS,SAAUC,GACxE,IAAIC,EAAoB,GAAhBxC,KAAKC,SAAgB,EAE7B,OADU,KAALsC,EAAWC,EAAS,EAAJA,EAAU,GACtBC,SAAS,OAUpBC,WAAY,SAAUC,EAASC,EAAKtB,GACnC,GAAIqB,EACH,OAAOE,aAAaC,IAAIH,EAASI,SAASH,GAAM,EAAG,EAAGI,YAAY1B,GAAO,KAU3E2B,QAAS,SAAUC,EAAKN,EAAKtB,GAC5B,GAAI4B,EACH,OAAOC,OAAOC,SAASN,IAAII,EAAKG,aAAaC,OAAOV,IAAO,EAAG,EAAGI,YAAY1B,GAAO,MAStFiC,UAAW,SAAUC,EAAUC,EAAOC,GACrC,GAAIF,EAAU,CACTE,EAAS,CACZF,SAAU,KACVG,SAAU,aACVC,GAAIC,KAAK9B,iBACT2B,OAAQA,EACRD,MAAOA,GAER,OAAOK,KAAKC,UAAUL,KAQxBM,QAAS,SAAUhC,GAMlB,OALa,IAAIiC,OAAOjC,GACPS,WACAH,QAAQ,wBAAyB,SAAU4B,GAC3D,OAAOA,EAAI,OASbC,cAAe,SAAUnC,GAIxB,OAHAA,EAAMA,EAAIoC,QAAQ,GAElBpC,GADAA,EAAMqC,WAAWrC,IACPsC,kBAQXC,UAAW,WACV,IAAIC,EAAM,GACTC,EAAS,GACNC,EAAY,GAChB,OAAQC,OAAOC,SAASC,UACvB,IAAK,mBACJJ,EAAS,uCACTD,EAAM,4BACN,MACD,IAAK,qBACJC,EAAS,8BACTD,EAAM,8BACN,MACD,IAAK,mBACJC,EAAS,4BACTD,EAAM,4BACN,MACD,IAAK,oBACJC,EAAS,6BACTD,EAAM,6BACN,MACD,IAAK,eACJC,EAAS,wBACTD,EAAM,wBACNC,EAAS,6BACT,MACD,QAICA,EAAS,6BACTD,EAAM,6BAMR,OAHAE,EAAe,IAAIF,EACnBE,EAAkB,OAAID,EAEfC,GAQRI,eAAgB,SAAUxD,GACzB,IAAIyD,EAAM,IAAIC,OAAO,QAAU1D,EAAO,gBAAiB,KACnD2D,EAAc,IAAID,OAAO,QAAU1D,EAAO,gBAAiB,KAC3DkB,EAAImC,OAAOC,SAASM,OAAOC,OAAO,GAAGC,MAAML,GAC3CM,EAAIV,OAAOC,SAASU,SAASH,OAAO,GAAGC,MAAMH,GACjD,OAAS,MAALzC,EACI+C,SAAS/C,EAAE,IACH,MAAL6C,EACHE,SAASF,EAAE,IAEX,MAaTG,YAAa,SAAUC,GACtB,IAAIC,EAAO7B,KAEPW,EAAMiB,EAAQjB,KAAO,GACrBhB,EAAWiC,EAAQjC,UAAY,KAC/B9C,EAAO+E,EAAQ/E,MAAQ,MACfmD,KAAKxC,UAAU,SAE3B,IAAIsB,EAAUkB,KAAK3B,gBACfyD,EAAaF,EAAQtD,KACrBuB,EAASG,KAAKN,UAAUC,EAHpB,mCAGqCmC,GAC7CjC,EAASG,KAAKnB,WAAWC,EAASe,EAAQ,QAC1C9D,EAAEgG,KAAK,CACNlF,KAAMA,EACN8D,IAAKA,EACLqB,MAAOJ,EAAQI,MACfC,QAAS,CACRC,cAAeL,EAAKtE,aACpB4E,kBAAmBN,EAAKrD,UACxB4D,cAAetD,GAEhBR,KAAM,CACLA,KAAMuB,GAEPwC,QAAS,SAAUC,EAAKC,EAAQC,GAC/B,IAAInD,EAAMmD,EAAIC,kBAAkB,eAC5BnE,EAAOgE,EACPvD,EAAM8C,EAAKzC,QAAQC,EAAKf,EAAM,QAC9BA,EAAO2B,KAAKyC,MAAM3D,GAElB6C,EAAQS,SAAsC,mBAApBT,EAAQS,SACrCT,EAAQS,QAAQ/D,IAIlBqE,MAAO,SAAUrE,GACZsD,EAAQe,OAAkC,mBAAlBf,EAAQe,OACnCf,EAAQe,MAAMrE,OAUlBsE,cAAe,SAAUC,GAGxB,OAFkB/B,OAAOC,SAASU,WAEdoB,GAYrBC,eAAgB,SAAUC,EAAKC,GAC9BD,EAAIE,SAASD,GAAWE,WAAWC,YAAYH,IAQhDI,YAAa,SAAUL,EAAKC,GACtBD,EAAIzE,KAAK,YAIbyE,EAAIE,SAASD,GACbD,EAAIzE,KAAK,WAAW,KAJpByE,EAAII,YAAYH,GAChBD,EAAIzE,KAAK,WAAW,KAUtB+E,QAAS,SAAUlF,GAIlB,GAAW,KADXA,GADAA,GAAY,IACFM,QAAQ,OAAQ,OAItB6E,MAAMnF,GAAV,CAIA,IAAIoF,EAAQpF,EAAIqF,QAAQ,KACxB,IAAc,GAAVD,EAEH,IADA,IAAIrC,EAAM,iBACHA,EAAIuC,KAAKtF,IACfA,EAAMA,EAAIM,QAAQyC,EAAK,aAElB,CACN,IAAIwC,EAAUvF,EAAIwF,UAAU,EAAGJ,GAC3BK,EAAYzF,EAAIwF,UAAUJ,EAAQ,EAAGpF,EAAIJ,QAE7C,IADImD,EAAM,iBACHA,EAAIuC,KAAKC,IACfA,EAAUA,EAAQjF,QAAQyC,EAAK,SAEhC/C,EAAMuF,EAAU,IAAME,EAEvB,OAAOzF,IAMR0F,WAAY,SAAU1F,GAGrB,OADAA,GADAA,EAAMA,EAAIM,QAAQ,OAAQ,KAChBA,QAAQ,MAAO,KAO1BqF,cAAe,SAAUC,GACxB,OAAmC,EAA/BA,EAAInF,WAAW4E,QAAQ,KACnBK,WAAWE,GAEXV,QAAQU","file":"utils.js","sourcesContent":["layui.define(['jquery'], function (exports) {\r\n\tvar $ = layui.jquery;\r\n\r\n\texports('utils', {\r\n\t\t/**\r\n\t\t * 0-10的随机数\r\n\t\t * @returns {Number}\r\n\t\t */\r\n\t\tmathRandom: function () {\r\n\t\t\treturn parseInt(10 * Math.random());\r\n\t\t},\r\n\t\t/**\r\n\t\t * 后退一天\r\n\t\t * @param data\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tgetPrevDay: function () {\r\n\t\t\tvar d = new Date();\r\n\t\t\td = +d - 1000 * 60 * 60 * 24;\r\n\t\t\td = new Date(d);\r\n\t\t\treturn d.getFullYear() + \"年\" + (d.getMonth() + 1) + \"月\" + d.getDate() + \"日\";\r\n\t\t},\r\n\t\t/**\r\n\t\t * 时间戳转换\r\n\t\t * @param timeStamp\r\n\t\t * @param type\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tformatDateTime: function (timeStamp, type) {\r\n\t\t\tvar date = new Date();\r\n\t\t\tdate.setTime(timeStamp * 1000);\r\n\t\t\tvar y = date.getFullYear();\r\n\t\t\tvar m = date.getMonth() + 1;\r\n\t\t\tm = m < 10 ? ('0' + m) : m;\r\n\t\t\tvar d = date.getDate();\r\n\t\t\td = d < 10 ? ('0' + d) : d;\r\n\t\t\tvar h = date.getHours();\r\n\t\t\th = h < 10 ? ('0' + h) : h;\r\n\t\t\tvar minute = date.getMinutes();\r\n\t\t\tvar second = date.getSeconds();\r\n\t\t\tminute = minute < 10 ? ('0' + minute) : minute;\r\n\t\t\tsecond = second < 10 ? ('0' + second) : second;\r\n\t\t\tif (type == 1) {\r\n\t\t\t\treturn y + '-' + m;\r\n\t\t\t} else if (type == 2) {\r\n\t\t\t\treturn d + ' ';\r\n\t\t\t} else {\r\n\t\t\t\treturn y + '-' + m + '-' + d + ' ';\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取cookie\r\n\t\t * @param name\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tgetCookie: function (name) {\r\n\t\t\tvar strCookie = document.cookie;\r\n\t\t\tvar arrCookie = strCookie.split(\"; \");\r\n\t\t\tfor (var i = 0; i < arrCookie.length; i++) {\r\n\t\t\t\tvar arr = arrCookie[i].split(\"=\");\r\n\t\t\t\tif (name == arr[0]) {\r\n\t\t\t\t\treturn arr[1];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取时间戳\r\n\t\t * @returns {number}\r\n\t\t */\r\n\t\tgetSeconds: function () {\r\n\t\t\treturn new Date().getTime();\r\n\t\t},\r\n\t\t/**\r\n\t\t * 毫秒时间戳.随机数\r\n\t\t */\r\n\t\tgetRrandomTime: function () {\r\n\t\t\tvar d = new Date().getTime();\r\n\t\t\tvar num = \"\";\r\n\t\t\tfor (var i = 0; i < 5; i++) {\r\n\t\t\t\tnum += Math.floor(Math.random() * 10);\r\n\t\t\t}\r\n\t\t\treturn d + '.' + num;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 随机的16为字符串 X-Dola-Code\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tgetRrandomStr: function () {\r\n\t\t\tvar data = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"];\r\n\t\t\tvar result = \"\";\r\n\t\t\tfor (var i = 0; i < 16; i++) {\r\n\t\t\t\tvar r = Math.floor(Math.random() * 62);\r\n\t\t\t\tresult += data[r];\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 生成36位的uuid\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tgetGuid: function () {\r\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n\t\t\t\tvar r = Math.random() * 16 | 0,\r\n\t\t\t\t\tv = c == 'x' ? r : (r & 0x3 | 0x8);\r\n\t\t\t\treturn v.toString(16);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param Codekey 加密的key\r\n\t\t * @param str  加密的str\r\n\t\t * @param name\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tencryption: function (Codekey, str, name) {\r\n\t\t\tif (Codekey) {\r\n\t\t\t\treturn base64encode(des(Codekey, utf16to8(str), 1, 0, hexToString(name), 1))\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param key 解密的key\r\n\t\t * @param str 解密的str\r\n\t\t * @param name\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tdecrypt: function (key, str, name) {\r\n\t\t\tif (key) {\r\n\t\t\t\treturn Handle(utf8to16(des(key, base64decode(String(str)), 0, 0, hexToString(name), 0)))\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t *\r\n\t\t * @param platform 平台标志\r\n\t\t * @param token 身份验证\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tgetParams: function (platform, token, params) {\r\n\t\t\tif (platform) {\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tplatform: 'pc',\r\n\t\t\t\t\tproglang: 'javascript',\r\n\t\t\t\t\tsn: this.getRrandomTime(),\r\n\t\t\t\t\tparams: params,\r\n\t\t\t\t\ttoken: token\r\n\t\t\t\t}\r\n\t\t\t\treturn JSON.stringify(params);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 金额格式化 4位分割\r\n\t\t * @param num\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\ttoMoney: function (num) {\r\n\t\t\tvar number = new Number(num);\r\n\t\t\tvar str = number.toString();\r\n\t\t\tvar newstr = str.replace(/\\d{1,4}(?=(\\d{4})+$)/g, function (s) {\r\n\t\t\t\treturn s + ','\r\n\t\t\t})\r\n\t\t\treturn newstr;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 金额正常格式\r\n\t\t * @param num\r\n\t\t * @returns {string|*}\r\n\t\t */\r\n\t\ttoMoneyNormal: function (num) {\r\n\t\t\tnum = num.toFixed(2);\r\n\t\t\tnum = parseFloat(num)\r\n\t\t\tnum = num.toLocaleString();\r\n\t\t\treturn num;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取域名\r\n\t\t * @param ''\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tgetDomain: function () {\r\n\t\t\tvar url = \"\",\r\n\t\t\t\turlApi = \"\";\r\n\t\t\tvar domainObj = {};\r\n\t\t\tswitch (window.location.hostname) {\r\n\t\t\t\tcase \"www.dolabank.com\":\r\n\t\t\t\t\turlApi = 'https://www.dolabank.com/apigateway/';\r\n\t\t\t\t\turl = 'https://www.dolabank.com/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"www.duolajucai.top\":\r\n\t\t\t\t\turlApi = 'https://api.duolajucai.top/';\r\n\t\t\t\t\turl = 'https://www.duolajucai.top/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"www.dolabank.top\":\r\n\t\t\t\t\turlApi = 'https://api.dolabank.top/';\r\n\t\t\t\t\turl = 'https://www.dolabank.top/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"www.dolabank.club\":\r\n\t\t\t\t\turlApi = 'https://api.dolabank.club/';\r\n\t\t\t\t\turl = 'https://www.dolabank.club/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"www.dola.dev\":\r\n\t\t\t\t\turlApi = 'https://api.dola.dev/';\r\n\t\t\t\t\turl = 'https://www.dola.dev/';\r\n\t\t\t\t\turlApi = 'https://api.dolabank.club/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t//                  urlApi = 'https://www.dolabank.com/apigateway/';\r\n\t\t\t\t\t// urlApi = 'https://api.dolabank.com/';\r\n\t\t\t\t\t// url = 'https://www.dolabank.com/';\r\n\t\t\t\t\turlApi = 'https://api.dolabank.club/';\r\n\t\t\t\t\turl = 'https://www.dolabank.club/';\r\n\t\t\t}\r\n\r\n\t\t\tdomainObj['url'] = url;\r\n\t\t\tdomainObj['urlApi'] = urlApi;\r\n\r\n\t\t\treturn domainObj;\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取链接参数\r\n\t\t * @param name\r\n\t\t * @returns { string }\r\n\t\t */\r\n\t\tgetQueryString: function (name) {\r\n\t\t\tvar reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n\t\t\tvar reg_rewrite = new RegExp(\"(^|/)\" + name + \"/([^/]*)(/|$)\", \"i\");\r\n\t\t\tvar r = window.location.search.substr(1).match(reg);\r\n\t\t\tvar q = window.location.pathname.substr(1).match(reg_rewrite);\r\n\t\t\tif (r != null) {\r\n\t\t\t\treturn unescape(r[2]);\r\n\t\t\t} else if (q != null) {\r\n\t\t\t\treturn unescape(q[2]);\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 异步获取数据\r\n\t\t * @param options\r\n\t\t * url:\r\n\t\t * platform: 'pc' 操作平台\r\n\t\t * type: 'get' 请求方式\r\n\t\t * async: 是否异步\r\n\t\t * data: {},\r\n\t\t * success: function(data) {}\r\n\t\t */\r\n\t\tgetAjaxData: function (options) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar url = options.url || '';\r\n\t\t\tvar platform = options.platform || 'pc';\r\n\t\t\tvar type = options.type || 'get';\r\n\t\t\tvar token = this.getCookie('token');\r\n\t\t\ttoken = '9eabd8a36ba8c4cb88bcf019157bfbba';\r\n\t\t\tvar Codekey = this.getRrandomStr();\r\n\t\t\tvar paramsdata = options.data;\r\n\t\t\tvar params = this.getParams(platform, token, paramsdata);\r\n\t\t\tparams = this.encryption(Codekey, params, 'code');\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: type,\r\n\t\t\t\turl: url,\r\n\t\t\t\tasync: options.async,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"X-Dola-Time\": that.getSeconds(),\r\n\t\t\t\t\t\"X-Dola-ClientID\": that.getGuid(),\r\n\t\t\t\t\t'X-Dola-Code': Codekey\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdata: params\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function (res, status, xhr) {\r\n\t\t\t\t\tvar key = xhr.getResponseHeader(\"X-Dola-Edoc\");\r\n\t\t\t\t\tvar data = res;\r\n\t\t\t\t\tvar str = that.decrypt(key, data, 'code');\r\n\t\t\t\t\tvar data = JSON.parse(str);\r\n\r\n\t\t\t\t\tif (options.success && typeof options.success === 'function') {\r\n\t\t\t\t\t\toptions.success(data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function (data) {\r\n\t\t\t\t\tif (options.error && typeof options.error === \"function\") {\r\n\t\t\t\t\t\toptions.error(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*\r\n\t\t * 判断是否展示的当前页面\r\n\t\t * @param { string } url参数\r\n\t\t * @returns { blooen }\r\n\t\t */\r\n\t\tisCurrentPage: function (urlString) {\r\n\t\t\tvar pathnameStr = window.location.pathname;\r\n\r\n\t\t\tif (pathnameStr === urlString) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/*\r\n\t\t * 选择添加class\r\n\t\t * @param { object } 当前元素\r\n\t\t * @param { string } 添加的class\r\n\t\t * @returns { * }\r\n\t\t */\r\n\t\taddClassActive: function (ele, className) {\r\n\t\t\tele.addClass(className).siblings().removeClass(className);\r\n\t\t},\r\n\t\t/*\r\n\t\t * 切换class\r\n\t\t * @param { object } 当前元素\r\n\t\t * @param { string } 添加的class\r\n\t\t * @returns { * }\r\n\t\t */\r\n\t\ttoggleClass: function (ele, className) {\r\n\t\t\tif (!ele.data('checked')) {\r\n\t\t\t\tele.removeClass(className);\r\n\t\t\t\tele.data('checked', true);\r\n\t\t\t} else {\r\n\t\t\t\tele.addClass(className);\r\n\t\t\t\tele.data('checked', false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 数字格式转换成千分位\r\n\t\t * @param { Object } num\r\n\t\t */\r\n\t\tcommafy: function (num) {\r\n\t\t\t//1.先去除空格,判断是否空值和非数 \r\n\t\t\tnum = num + \"\";\r\n\t\t\tnum = num.replace(/[ ]/g, \"\"); //去除空格\r\n\t\t\tif (num == \"\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isNaN(num)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//2.针对是否有小数点，分情况处理 \r\n\t\t\tvar index = num.indexOf(\".\");\r\n\t\t\tif (index == -1) { //无小数点 \r\n\t\t\t\tvar reg = /(-?\\d+)(\\d{3})/;\r\n\t\t\t\twhile (reg.test(num)) {\r\n\t\t\t\t\tnum = num.replace(reg, \"$1,$2\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar intPart = num.substring(0, index);\r\n\t\t\t\tvar pointPart = num.substring(index + 1, num.length);\r\n\t\t\t\tvar reg = /(-?\\d+)(\\d{3})/;\r\n\t\t\t\twhile (reg.test(intPart)) {\r\n\t\t\t\t\tintPart = intPart.replace(reg, \"$1,$2\");\r\n\t\t\t\t}\r\n\t\t\t\tnum = intPart + \".\" + pointPart;\r\n\t\t\t}\r\n\t\t\treturn num;\r\n\t\t},\r\n\t\t/**\r\n\t\t * 去除千分位\r\n\t\t * @param{Object}num\r\n\t\t */\r\n\t\tdelcommafy: function (num) {\r\n\t\t\tnum = num.replace(/[ ]/g, \"\"); //去除空格\r\n\t\t\tnum = num.replace(/,/gi, '');\r\n\t\t\treturn num;\r\n\t\t},\r\n\t\t/*\r\n\t\t * 千分位相互转换\r\n\t\t * @param {} val\r\n\t\t */\r\n\t\tcommafyToggle: function (val) {\r\n\t\t\tif (val.toString().indexOf(\",\") > -1) {\r\n\t\t\t\treturn delcommafy(val);\r\n\t\t\t} else {\r\n\t\t\t\treturn commafy(val);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n})\r\n"]}